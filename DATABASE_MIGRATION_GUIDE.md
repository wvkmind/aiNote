# 数据库位置自定义功能使用指南

## 功能说明

现在你可以自定义数据库的存储位置，方便将数据库放在 NAS 或云同步文件夹中进行备份。

## 使用步骤

### 1. 打开设置面板

点击应用右上角的设置按钮（⚙️）

### 2. 找到"数据库设置"部分

在设置面板中找到 "数据库设置 💾" 区域

### 3. 设置新的数据库路径

有两种方式：

**方式一：手动输入路径**
- 直接在输入框中输入完整的数据库文件路径
- 例如：`D:\NAS\Backup\ai_notes.db` 或 `\\NAS\Documents\ai_notes.db`

**方式二：使用浏览按钮**
- 点击"浏览"按钮
- 在文件选择对话框中选择或创建新的 `.db` 文件

### 4. 查看路径信息

- **查看默认路径**：点击"查看默认路径"按钮，了解系统默认的数据库位置
- **查看当前路径**：点击"查看当前路径"按钮，查看当前正在使用的数据库位置

### 5. 保存设置

点击"保存设置"按钮，系统会：
1. 提示确认数据库迁移
2. 自动将现有数据复制到新位置
3. 重新加载应用以使用新的数据库

## 注意事项

⚠️ **重要提示**：
- 更改数据库路径后，原有数据会自动复制到新位置
- 旧数据库文件不会被删除，你可以手动删除
- 确保新路径有足够的读写权限
- 如果使用网络路径（NAS），确保网络连接稳定

## 恢复默认路径

如果想恢复使用默认路径：
1. 清空数据库路径输入框（留空）
2. 点击"保存设置"
3. 系统会将数据复制回默认位置

## 默认路径位置

Windows 系统默认路径通常为：
```
C:\Users\[用户名]\AppData\Roaming\com.wvkmi.ai-note-system\ai_notes.db
```

## 备份建议

建议定期备份数据库文件：
- 使用云同步服务（如 OneDrive、Dropbox）
- 使用 NAS 自动备份
- 手动复制到外部存储设备

## 故障排除

**问题：迁移失败**
- 检查新路径是否有写入权限
- 确保磁盘空间充足
- 检查路径格式是否正确

**问题：无法访问网络路径**
- 确保网络连接正常
- 检查 NAS 是否已挂载
- 验证网络路径格式（Windows: `\\server\share\file.db`）
